(function(n,r){typeof exports=="object"&&typeof module<"u"?module.exports=r(require("vue")):typeof define=="function"&&define.amd?define(["vue"],r):(n=typeof globalThis<"u"?globalThis:n||self,n.VueNumberIncrement=r(n.Vue))})(this,function(n){"use strict";return n.defineComponent({__name:"NumberIncrement",props:{to:null,speed:null,callback:null},emits:["callback"],setup(h,{emit:b}){const i=h,m=(e,t)=>{if(typeof e=="number")return e;if(isNaN(Number(e)))throw new Error(`\u5C5E\u6027 ${t} \u7684\u503C\u5FC5\u987B\u4E3A\u4E00\u4E2A\u6570\u5B57\u6216\u8005\u80FD\u8F6C\u4E3A(Number)\u6570\u5B57\u7684\u5B57\u7B26\u4E32`);return Number(e)},u=n.ref(0);let c=null;const N=e=>{const t=m(i.speed,"speed"),o=i.speed?12-Math.min(10,t):5;return Math.floor((e-u.value)/(o*10))},a=(e,t,o)=>{let s=Number((u.value+t+Number(Math.random().toFixed(o))).toFixed(o));if(u.value=Math.min(s,e),s>=e){u.value=e,b("callback",u.value),cancelAnimationFrame(c);return}c=requestAnimationFrame(()=>a(e,t,o))},l=()=>{var d,f;cancelAnimationFrame(c);const e=m(i.to,"to"),t=N(e),o=((d=e.toString().split(".")[1])==null?void 0:d.length)||0,s=((f=u.value.toString().split(".")[1])==null?void 0:f.length)||0,p=Math.min(2,Math.max(o,s)),F=Number(e.toFixed(p));c=requestAnimationFrame(()=>a(F,t,p))};return n.watch(i,()=>{l()}),n.onMounted(()=>{l()}),(e,t)=>(n.openBlock(),n.createElementBlock("div",null,"1: "+n.toDisplayString(u.value),1))}})});
